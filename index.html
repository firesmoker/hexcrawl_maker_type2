<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HexGen | Pro</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <aside class="sidebar">
        <div class="brand">
            <span>â¬¢</span> HexGen
        </div>

        <div class="control-group">
            <div class="control-label">
                Hex Size (Inch)
                <span id="hex-size-val" class="value-display">0.5"</span>
            </div>
            <div class="slider-container">
                <!-- 0.1 to 1.0 inches, step 0.05 -->
                <input type="range" id="hex-size" min="0.1" max="1.0" step="0.05" value="0.5">
            </div>
            <label class="checkbox-container mini-check">
                <input type="checkbox" id="auto-apply-hex" checked>
                <span class="checkmark"></span>
                Auto Apply
            </label>
        </div>

        <div class="control-group">
            <div class="control-label">
                Clustering
                <span id="clustering-val" class="value-display">80%</span>
            </div>
            <div class="slider-container">
                <input type="range" id="clustering" min="0" max="1.0" step="0.05" value="0.8">
            </div>
        </div>

        <div class="control-group">
            <div class="control-label">Terrain Types</div>
            <div class="terrain-options">
                <div class="terrain-row">
                    <label class="checkbox-container">
                        <input type="checkbox" name="terrain" value="sea" checked>
                        <span class="checkmark"></span>
                        Sea
                    </label>
                    <input type="range" class="terrain-weight" data-terrain="sea" min="1" max="100" value="100"
                        title="Probability Weight">
                    <span class="weight-val">100%</span>
                </div>
                <div class="terrain-row">
                    <label class="checkbox-container">
                        <input type="checkbox" name="terrain" value="plains" checked>
                        <span class="checkmark"></span>
                        Plains
                    </label>
                    <input type="range" class="terrain-weight" data-terrain="plains" min="1" max="100" value="100"
                        title="Probability Weight">
                    <span class="weight-val">100%</span>
                </div>
                <div class="terrain-row">
                    <label class="checkbox-container">
                        <input type="checkbox" name="terrain" value="swamp" checked>
                        <span class="checkmark"></span>
                        Swamp
                    </label>
                    <input type="range" class="terrain-weight" data-terrain="swamp" min="1" max="100" value="10"
                        title="Probability Weight">
                    <span class="weight-val">10%</span>
                </div>
                <div class="terrain-row">
                    <label class="checkbox-container">
                        <input type="checkbox" name="terrain" value="snow" checked>
                        <span class="checkmark"></span>
                        Snow
                    </label>
                    <input type="range" class="terrain-weight" data-terrain="snow" min="1" max="100" value="10"
                        title="Probability Weight">
                    <span class="weight-val">10%</span>
                </div>
                <div class="terrain-row">
                    <label class="checkbox-container">
                        <input type="checkbox" name="terrain" value="desert" checked>
                        <span class="checkmark"></span>
                        Desert
                    </label>
                    <input type="range" class="terrain-weight" data-terrain="desert" min="1" max="100" value="20"
                        title="Probability Weight">
                    <span class="weight-val">20%</span>
                </div>
                <div class="terrain-row">
                    <label class="checkbox-container">
                        <input type="checkbox" name="terrain" value="wasteland" checked>
                        <span class="checkmark"></span>
                        Wasteland
                    </label>
                    <input type="range" class="terrain-weight" data-terrain="wasteland" min="1" max="100" value="10"
                        title="Probability Weight">
                    <span class="weight-val">10%</span>
                </div>
            </div>
        </div>

        <button id="btn-generate" class="btn-generate">Generate Grid</button>
    </aside>

    <main class="main-content">
        <div class="vertical-zoom-widget">
            <svg class="zoom-icon" viewBox="0 0 24 24" width="20" height="20">
                <path fill="currentColor"
                    d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" />
            </svg>
            <input type="range" id="zoom-level" min="0.2" max="2.0" step="0.1" value="0.6" orient="vertical">
            <span id="zoom-level-val" class="zoom-value">100%</span>
        </div>
        <div id="page-wrapper">
            <div class="page-container" id="page-container">
                <svg id="hex-grid" xmlns="http://www.w3.org/2000/svg">
                    <g id="hex-layer"></g>
                    <g id="addon-layer"></g>
                </svg>
            </div>
        </div>
    </main>

    <aside class="right-panel">
        <div class="brand">Settings & Actions</div>

        <div class="control-group">
            <div class="control-label">File Operations</div>
            <button id="btn-download" class="btn-download">Download PNG</button>
            <div class="side-actions">
                <button id="btn-export" class="btn-download">Export CSV</button>
                <button id="btn-import" class="btn-download">Import CSV</button>
                <input type="file" id="csv-upload" accept=".csv" style="display:none">
            </div>
        </div>

        <div class="control-group">
            <div class="control-label">Edit History</div>
            <div class="history-actions">
                <button id="btn-undo" class="btn-history" title="Undo (Ctrl+Z)" disabled>
                    <svg viewBox="0 0 24 24" width="18" height="18">
                        <path fill="currentColor"
                            d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8Z" />
                    </svg>
                    Undo
                </button>
                <button id="btn-redo" class="btn-history" title="Redo (Ctrl+Y)" disabled>
                    <svg viewBox="0 0 24 24" width="18" height="18">
                        <path fill="currentColor"
                            d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6Z" />
                    </svg>
                    Redo
                </button>
            </div>
        </div>
    </aside>

    <!-- Context Menu / Popup moved to body level -->
    <div id="hex-popup" class="hex-popup hidden">
        <div class="popup-title" id="popup-title">Edit Hex</div>
        <button id="btn-show-addons" class="btn-add-ons">+ Add...</button>
        <button id="btn-remove-addon" class="btn-remove-addon hidden">Remove</button>
        <div class="addon-label-group" id="addon-label-container">
            <div class="label-hint">Label</div>
            <input type="text" id="hex-label-input" placeholder="Custom label...">
        </div>
        <button id="btn-select-cluster" class="btn-cluster">Select Cluster</button>
        <div class="popup-options" id="popup-options">
            <!-- Terrain options injected via JS -->
        </div>
    </div>

    <div id="addon-popup" class="hex-popup hidden">
        <div class="popup-title">Select Add-on</div>
        <div id="addon-list" class="addon-list">
            <!-- Addons injected via JS -->
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>